{"version":3,"file":"component---src-pages-search-tsx-49ea145d0be62bde5e31.js","mappings":"4PA4BA,IAAMA,GAAe,wPAoCrB,EArB2D,YAEvD,IACIC,EADL,EADDC,MAGA,OACEC,EAAAA,EAAAA,IAACH,EAAD,KACGC,EAASG,KACR,oBACEC,KACEC,EAFJ,EAEIA,GACUC,EAHd,EAGIC,OAAUD,KACVE,EAJJ,EAIIA,YAJJ,OAOEN,EAAAA,EAAAA,IAACO,EAAAA,GAAD,UAAcD,EAAd,CAA2BE,KAAMJ,EAAMK,IAAKN,IAR/C,IANP,ECrBA,IAAMO,GAAM,sFAKNC,GAAO,2VAkBPC,GAAU,wMAUVC,GAAM,yaAoBNC,GAAO,yGAOPC,EAAS,SAACC,GACd,IA6BUC,EAAOC,EAETnB,EA7BR,GAA0BoB,EAAAA,EAAAA,UAAqB,CAC7CD,aAAe,GACfD,MAJiB,KAEZG,EAAP,KAAcC,EAAd,KAoCA,OACErB,EAAAA,EAAAA,IAAAA,EAAAA,SAAAA,MACAA,EAAAA,EAAAA,IAACW,EAAD,MACEX,EAAAA,EAAAA,IAACU,EAAD,MACEV,EAAAA,EAAAA,IAACY,EAAD,MACEZ,EAAAA,EAAAA,IAACc,EAAD,mCACAd,EAAAA,EAAAA,IAACa,EAAD,CACES,KAAK,OACLC,YAAY,SACZ,aAAW,SACXC,SAzCgB,SAACC,GACzB,IAAMR,EAAQQ,EAAMC,OAAOC,MAIrBT,GAHWF,EAATY,KACWC,kBAAkBC,OAAS,IAEEC,QAAO,SAACC,GACtD,MAAsCA,EAAK9B,KAAKI,YAAxC2B,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,MAAOC,EAAxB,EAAwBA,WACxB,OACGF,GACCA,EAAQG,cAAcC,SAASpB,EAAMmB,gBACtCF,GAASA,EAAME,cAAcC,SAASpB,EAAMmB,gBAC5CD,GAAcA,EAAWG,KAAK,IAAIF,cAAcC,SAASpB,EAAMmB,cAN1B,IAU1Cf,EAAS,CACPJ,MAAAA,EACAC,aAAAA,GAjBJ,OA8CKE,EAAMH,QACLjB,EAAAA,EAAAA,IAAAA,MAAAA,MAzBIiB,EAAwBG,EAAxBH,MAAOC,EAAiBE,EAAjBF,cAETnB,EADmBmB,GA9BR,KA8BwBD,EACaC,EAAe,MAGnElB,EAAAA,EAAAA,IAACuC,EAAD,CAAgBxC,MAASA,MAnC/B,EA+DA,WAAgBiB,GAAD,OACbhB,EAAAA,EAAAA,IAACwC,EAAAA,GAAD,CACEvB,MAAK,aAwCLwB,OAAQ,SAACb,GAAD,OAAU5B,EAAAA,EAAAA,IAACe,GAAD,QAAQa,KAAMA,GAAUZ,GAAlC,GA1CZ,ECvHA,EAvBgB,WAGf,OACKhB,EAAAA,EAAAA,IAAC0C,EAAAA,EAAD,CACAR,MAAO,SACPS,YAAa,2EACbC,IAAK,kCACLC,MAAO,KAEK7C,EAAAA,EAAAA,IAACe,EAAD,OACVf,EAAAA,EAAAA,IAAAA,MAAAA,CAAK8C,MACH,CACE,MAAU,OACV,OAAW,WAdvB,C","sources":["webpack://gatsby-starter-default/./src/components/Main/SearchPostList.tsx","webpack://gatsby-starter-default/./src/components/Main/Search.tsx","webpack://gatsby-starter-default/./src/pages/search.tsx"],"sourcesContent":["import styled from '@emotion/styled'\r\nimport PostItem from 'components/Main/PostItem'\r\nimport { IGatsbyImageData } from 'gatsby-plugin-image'\r\nimport { PostListItemType } from 'types/PostItem.types'\r\nimport React, { FunctionComponent} from 'react'\r\n\r\nexport type PostType = {\r\n  node: {\r\n    id: string\r\n    frontmatter: {\r\n      title: string\r\n      summary: string\r\n      date: string\r\n      categories: string[]\r\n      thumbnail: {\r\n        childImageSharp: {\r\n          gatsbyImageData: IGatsbyImageData\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\ntype SearchListProps = {\r\n  posts: PostListItemType[]\r\n}\r\n\r\n\r\nconst PostListWrapper = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  grid-gap: 20px;\r\n  width: 768px;\r\n  margin: 0 auto;\r\n  padding: 50px 0 100px;\r\n\r\n  @media (max-width: 768px) {\r\n    grid-template-columns: 1fr;\r\n    width: 100%;\r\n    padding: 50px 20px;\r\n  }\r\n`\r\n\r\nconst SearchPostList: FunctionComponent<SearchListProps> = function ({\r\n  posts,\r\n}) {\r\n  const postList = posts;\r\n  return (\r\n    <PostListWrapper>\r\n      {postList.map(\r\n        ({\r\n          node: {\r\n            id,\r\n            fields: { slug },\r\n            frontmatter,\r\n          },\r\n        }: PostListItemType) => (\r\n          <PostItem {...frontmatter} link={slug} key={id} />\r\n        ),\r\n      )}\r\n    </PostListWrapper>\r\n  )\r\n}\r\n\r\nexport default SearchPostList","import React, { useState } from \"react\";\r\nimport { graphql, StaticQuery } from \"gatsby\";\r\nimport SearchPostList from \"./SearchPostList\"\r\nimport styled from \"@emotion/styled\";\r\nimport { PostListItemType } from \"types/PostItem.types\";\r\n\r\nexport type SearchPageProps = {\r\n    location: {\r\n      search: string\r\n    }\r\n    data: {\r\n      allMarkdownRemark: {\r\n        edges: PostListItemType[]\r\n      }\r\n    }\r\n  }\r\n\r\ntype SearchMeta =  {\r\n    query : \"\",\r\n    filteredData : PostListItemType[]\r\n}\r\n\r\nconst SEMDiv =  styled.div`\r\ndisplay:block;\r\nheight: auto;\r\n`\r\n\r\nconst FullDiv = styled.div`\r\nmargin: auto;\r\nmargin-top : 70px;\r\nfont-family: -apple-system, Arial, sans-serif;\r\nfont-size: 1rem;\r\nfont-weight: 400;\r\nline-height: 1.5;\r\ncolor: #212529;\r\ntext-align: left;\r\nbackground-color: #fff;\r\npadding: 30px;\r\npadding-bottom: 10px;\r\nborder: 1px solid #ced4da;\r\nborder-radius: 0.25rem;\r\nmax-width: 100%;\r\nwidth : 70%;\r\nheight: 80%;\r\n`\r\nconst INPUTGroup = styled.div`\r\nposition: relative;\r\ndisplay: -ms-flexbox;\r\ndisplay: flex;\r\n-ms-flex-wrap: wrap;\r\nflex-wrap: wrap;\r\n-ms-flex-align: stretch;\r\nalign-items: stretch;\r\nwidth: 100%;\r\n`\r\nconst ABForm = styled.input`\r\ndisplay: block;\r\nwidth: 100%;\r\nheight: calc(1.5em + 0.75rem + 2px);\r\npadding: 0.375rem 0.75rem;\r\nfont-size: 1rem;\r\nfont-weight: 400;\r\nline-height: 1.5;\r\ncolor: #495057;\r\nbackground-color: #fff;\r\nbackground-clip: padding-box;\r\nborder: 1px solid #ced4da;\r\noutline: none;\r\nborder-radius: 0.25rem;\r\ntransition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n&:focus {\r\n  border: 1px solid #313131;\r\n}\r\n`\r\n\r\nconst ABLabel = styled.label`\r\ndisplay: inline-block;\r\nmargin-bottom: 0.5rem;\r\n`\r\n\r\n\r\n\r\nconst Search = (props : SearchPageProps) => {\r\n  const emptyQuery = \"\";\r\n\r\n  const [state, setState] = useState<SearchMeta>({\r\n    filteredData : [],\r\n    query: emptyQuery,\r\n  });\r\n\r\n  const handleInputChange = (event : any) => {\r\n    const query = event.target.value;\r\n    const { data } = props;\r\n    const posts = data.allMarkdownRemark.edges || [];\r\n\r\n    const filteredData : PostListItemType[] = posts.filter((post : PostListItemType) => {\r\n      const { summary, title, categories} = post.node.frontmatter;\r\n      return (\r\n        (summary &&\r\n          summary.toLowerCase().includes(query.toLowerCase())) ||\r\n        (title && title.toLowerCase().includes(query.toLowerCase())) ||\r\n        (categories && categories.join(\"\").toLowerCase().includes(query.toLowerCase()))\r\n      );\r\n    });\r\n\r\n    setState({\r\n      query,\r\n      filteredData,\r\n    });\r\n  };\r\n\r\n  const renderSearchResults = () => {\r\n    const { query, filteredData } = state;\r\n    const hasSearchResults = filteredData && query !== emptyQuery;\r\n    const posts : PostListItemType[] = hasSearchResults ? filteredData : [];\r\n    return (\r\n      posts &&\r\n      <SearchPostList posts = {posts} />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n    <FullDiv>\r\n      <SEMDiv>\r\n        <INPUTGroup>\r\n          <ABLabel>Search Your Beloved Posts</ABLabel>\r\n          <ABForm\r\n            type=\"text\"\r\n            placeholder=\"Search\"\r\n            aria-label=\"Search\"\r\n            onChange={handleInputChange}\r\n          />\r\n          </INPUTGroup>\r\n        </SEMDiv>\r\n</FullDiv>\r\n      {state.query && (\r\n        <div>\r\n          {renderSearchResults()}\r\n        </div>\r\n      )}\r\n</>\r\n  );\r\n};\r\n\r\nexport default (props : any) => (\r\n  <StaticQuery\r\n    query={graphql`\r\n    query abc {\r\n      site {\r\n        siteMetadata {\r\n          title\r\n          description\r\n          siteUrl\r\n        }\r\n      }\r\n      allMarkdownRemark(\r\n        sort: { order: DESC, fields: [frontmatter___date, frontmatter___title] }\r\n      ) {\r\n        edges {\r\n          node {\r\n            id\r\n            fields {\r\n              slug\r\n            }\r\n            frontmatter {\r\n              title\r\n              summary\r\n              date(formatString: \"YYYY.MM.DD.\")\r\n              categories\r\n              thumbnail {\r\n                childImageSharp {\r\n                  gatsbyImageData(width: 768, height: 400)\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      file(name: { eq: \"profile-image\" }) {\r\n        childImageSharp {\r\n          gatsbyImageData(width: 120, height: 120)\r\n        }\r\n        publicURL\r\n      }\r\n    }\r\n  `}\r\n    render={(data) => <Search data={data} {...props} />}\r\n  />\r\n);","import React from 'react'\r\nimport Template from 'components/Common/Template'\r\nimport Search from 'components/Main/Search'\r\nconst Contact = () => \r\n{\r\n\r\n return  (\r\n      <Template\r\n      title= \"Search\"\r\n      description= \"Search Posts about algorithms, cyber security, backend ... and much more\"\r\n      url= \"https://hosahn.github.io/search\"\r\n      image= \"\"\r\n      >\r\n                  <Search />\r\n        <div style={\r\n          {\r\n            \"width\" : \"20px\",\r\n            \"height\" : \"200vh\"\r\n          }\r\n        }>\r\n        </div>\r\n      </ Template>\r\n  )\r\n\r\n}\r\n\r\nexport default Contact\r\n"],"names":["PostListWrapper","postList","posts","___EmotionJSX","map","node","id","slug","fields","frontmatter","PostItem","link","key","SEMDiv","FullDiv","INPUTGroup","ABForm","ABLabel","Search","props","query","filteredData","useState","state","setState","type","placeholder","onChange","event","target","value","data","allMarkdownRemark","edges","filter","post","summary","title","categories","toLowerCase","includes","join","SearchPostList","StaticQuery","render","Template","description","url","image","style"],"sourceRoot":""}