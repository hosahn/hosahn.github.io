{"componentChunkName":"component---src-templates-post-template-tsx","path":"/230410/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h2>1. 시작하기 전에</h2>\n<p>오늘 풀어볼 문제는 Windows 머신인 netmon이다. 사실 Blue라는 이름부터 뭔가 유추가 가지만… 일단 차분하게 접근해보자.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/70a88/netmon.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.79166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABgklEQVQoz22R23KbMBCGeYBOHYeDECCBkUAcZcA4yaSdaaeTN8lN3v8F/swK23U6vfhmtQft/it5ftqC5S2CrMVjYhCJBlU/Ysdq7LnBntd3GDywGqzokagj4txCGIOsO6CYTxBmhReJDh/vf1C2K7js4HONb0GFfVzj4T9Q411UI5QVwszge0S+gc9b7CINTw4VtO3BVAWmK7BiACtG+FmHIOvgp507h6JHIHrskwaPjvbC5kf56PBkZ3GwK5rTC0RjwdWIrJ6RqAW8nBAfjkjUjPgwgZez8//aLc8pX04I5QCPiRGqnJGpBYEYEMoRrDi6QrIb9sLxLmdvNTSMfKcwzkfo7hmpmhHK3hVwtaDsX1G0Lxc1k0MNP9BMv77EsmrFeH5zlrbyqIE0Z3C9Isi3KdepVyURxQvrVqRLlKfYVWWqTze1HhXp4fVLQ5rWLr9R2Z9ODV2kDVK9gKvtLe+5vi/hUXHenBEX1v0qKSEV0jxB1Ofb+5AKaRbQJ/7b8J5PKav8ihkCbecAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/a59e9/netmon.webp 192w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/0ca9f/netmon.webp 384w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/dc9b9/netmon.webp 768w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/e2c2f/netmon.webp 1152w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/f3efb/netmon.webp 1536w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/c8673/netmon.webp 1659w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/3b721/netmon.png 192w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/66595/netmon.png 384w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/fe486/netmon.png 768w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/d2d74/netmon.png 1152w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/e8464/netmon.png 1536w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/70a88/netmon.png 1659w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/fe486/netmon.png\"\n            alt=\"blue.png\"\n            title=\"blue.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<p>대표적인 문제지만, 정말 맘에 들지 않았다. 솔직히 CTF의 ‘감’에 의존하는 부분이 너무 많은 문제고, 시스템적으로 훌륭한 문제가 아닌 그냥 방탈출하는 느낌으로다가 풀어야 하는 문제였어서\r\n지금까지 풀어본 HTB문제중엔 제일 별로였다. 그래도 물론 공부가 되긴 했다.</p>\n<h2>2. Information Gathering</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d40c92e59ae8d9bf0f1b80bff8615566/0c082/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7DAAAOwwHHb6hkAAACP0lEQVQ4y3VT2XLiMBD0Lyxr8G1Zvu8TnxAcSEiy//9BvaVhIeRhH7paqpJ6umckyQ9zaLqNzWYHWVYJcVKgbQfEcYG86FBUPcq6hzhrsQCm7UPTHRhuA5ntIVseWJhBsXNIfjpiOH6hna4o92e08yf2yxdxkM2IkhrtfkFe9sjLPcpmRN1OiNMajpvA9WP8UkNs9AyymUHS/A5m+QWz/AO3ekM9XlENV+TdBeX+AualUDQHquHeWOcERefQTQ/My/HbTLExEoKUNTO64yf64zuGecW6vmFeThjGA6b5hKqZUDUjxe76A5p2hhfkYDyGZQew3Qyy9Q2pn1a6OC+CVwzTivlwwTCdCFneUdS2WzDOK8UXHMYVDMuDG9Yw/A5W2IOnC6RxOVPl5XjB8fRGLC5ESQXGI3AvhWkH2Cr2AzuVEYvojl9AtnJytxVDOZw+qOq0vOL0+oE4qWE7ITVciInJ2k5EPdMMl0Se2Q0r7FhBYopTQpoOF7yePzEfznhZr/DDgg5vFfZwIpgGoTmPwQjWdA4elFB5jR0roXstpLwa0Y8v1Pi2X2gtXO00BtXg39B/QtEdaAYHDyso/OaSBLOyhx8VYF6CMKkQpTWCqCAW+7ToEMQFrbOig80jKqYYnARF5B8Ok3ZB2L5DDWboQYO0aOjh3h3zICUBzXRvb1G/OX44DEps7dtghKhkOAmYG98i6g4dpF7p31CfoDzxXVA4VHkFxakgKYaHHf0E7x+EC/dp/z+40AwPzL9FveMvrC15TbtH3HAAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/d40c92e59ae8d9bf0f1b80bff8615566/a59e9/1.webp 192w,\n/static/d40c92e59ae8d9bf0f1b80bff8615566/0ca9f/1.webp 384w,\n/static/d40c92e59ae8d9bf0f1b80bff8615566/dc9b9/1.webp 768w,\n/static/d40c92e59ae8d9bf0f1b80bff8615566/ee2ad/1.webp 804w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/d40c92e59ae8d9bf0f1b80bff8615566/3b721/1.png 192w,\n/static/d40c92e59ae8d9bf0f1b80bff8615566/66595/1.png 384w,\n/static/d40c92e59ae8d9bf0f1b80bff8615566/fe486/1.png 768w,\n/static/d40c92e59ae8d9bf0f1b80bff8615566/0c082/1.png 804w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/d40c92e59ae8d9bf0f1b80bff8615566/fe486/1.png\"\n            alt=\"nmap.png\"\n            title=\"nmap.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\r\n포트는 SMB도 열려있고, http도 있고 ftp도 있다. 이것저것 시도해보자.</p>\n<h2>3. Initial Foothold</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b7522156e4c78840f3df0899184fda65/00706/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 61.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACKklEQVQoz22T6XKiQBRGfYDZkolJjBXigoCAyCayiOASl6DJmNSU7/8kZ6q7ypk45Y9bt+miT3/fvbdr7a7KdUPjuqHz5abLOFvgeyGK0qbdVlGUDp43YjIpGUUpcTIly0rSrMQe+DKMvoNhhYymB2rf7nR+3GtcNTS+1lUsPyctKkbZmjB5JikqstmOIHmmawTopsvQG9O3fUzbx3ZCmZWWQc9wqTU1nYeOR2+QUldsovyF5cuRdPbKfHukXP+WOS5fCdIVUTzFMF1UzaanD+jpDprh0O1ZmLZHrdHp01AtFMvmtm1ieSmam6N5C0x/ih9EhGHMKEpI0imG5dHu9umo5lmIPXFR7bpp0ui4PBkRt08Ok/mOl7cj6+pAtf+g2r8TRhNpTTOGF2FCncgSePNoIULY/d4wGOcrquqNYibs5aSTGeOkIMlKxvEU1xvj+jFeEDP0IsIoYzAc0eoY/4B3rSEPXY8bZUBabFlv98RpKYF6fyiLLuqltDSpUBw+KTvFmcL7tktTDagrDvl8x/71g3K+Zr7cMltsWK4qpuWzVClCKBQXfIZeBN4+DUmKLYvllrxY8ryqsAYBwSjDcSNpX5RCrE+Qi8C7liMb8/PRlgpPwPVmL3+cLzbSutqz2FZvEixG5LPKM2BdGcg6XjVN8sWOavdL2jx8HOWMrTZ7+pYnR+bwfpS1df2x3LsIPLe8YbZYE4TimRWyg3rf+WvtBPm/MeJbvKA/iap1Ca77ID4AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/b7522156e4c78840f3df0899184fda65/a59e9/2.webp 192w,\n/static/b7522156e4c78840f3df0899184fda65/0ca9f/2.webp 384w,\n/static/b7522156e4c78840f3df0899184fda65/dc9b9/2.webp 768w,\n/static/b7522156e4c78840f3df0899184fda65/f5889/2.webp 862w\"\n              sizes=\"(max-width: 768px) 100vw, 768px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/b7522156e4c78840f3df0899184fda65/3b721/2.png 192w,\n/static/b7522156e4c78840f3df0899184fda65/66595/2.png 384w,\n/static/b7522156e4c78840f3df0899184fda65/fe486/2.png 768w,\n/static/b7522156e4c78840f3df0899184fda65/00706/2.png 862w\"\n            sizes=\"(max-width: 768px) 100vw, 768px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/b7522156e4c78840f3df0899184fda65/fe486/2.png\"\n            alt=\"nmap.png\"\n            title=\"nmap.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\r\nftp에서 anonymous Login이 가능했다. 확인해보니 유저 권한이다. 따라서 C:\\Users\\Public에 있는 user.txt를 읽을 수 있었고 유저권한을 획득했다.</p>\n<h2>4. Privilege Escalation</h2>\n<p>이 문제에서 가장 어려운 파트이자, 너무 감에 의존하는 부분이 많았던 파트다. 일단 ftp와 smb에선 더 할 수 있는게 없으므로 http 웹사이트를 확인해보자.</p>\n<h2>5. 후기</h2>\n<p>보시다시피 guessing이 애매했다. 난 2023년이니까 계속 2023으로 하고있었어서… 이것도 아니면 뭐지 하다가 forum에 계속 2019가 올라오길래 2019로 해보니 되었었다.\r\n이 문제는 그냥 malicious file upload복습으로 생각하고 푸는게 정신건강에 이로울 것 같다. ㅎㅎ…</p>\n<h2>Source</h2>\n<ul>\n<li>Hack The Box 2023</li>\n<li>Me!</li>\n</ul>","frontmatter":{"title":"Hack The Box Machine : Netmon","summary":"HTB 2023 Machine 중 하나인 Netmon의 풀이","date":"2023.04.10.","before":"2023.04.07.","after":"2023.04.15.","categories":["C-SEC","KOR","webhack","HTB"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABgklEQVQoz22R23KbMBCGeYBOHYeDECCBkUAcZcA4yaSdaaeTN8lN3v8F/swK23U6vfhmtQft/it5ftqC5S2CrMVjYhCJBlU/Ysdq7LnBntd3GDywGqzokagj4txCGIOsO6CYTxBmhReJDh/vf1C2K7js4HONb0GFfVzj4T9Q411UI5QVwszge0S+gc9b7CINTw4VtO3BVAWmK7BiACtG+FmHIOvgp507h6JHIHrskwaPjvbC5kf56PBkZ3GwK5rTC0RjwdWIrJ6RqAW8nBAfjkjUjPgwgZez8//aLc8pX04I5QCPiRGqnJGpBYEYEMoRrDi6QrIb9sLxLmdvNTSMfKcwzkfo7hmpmhHK3hVwtaDsX1G0Lxc1k0MNP9BMv77EsmrFeH5zlrbyqIE0Z3C9Isi3KdepVyURxQvrVqRLlKfYVWWqTze1HhXp4fVLQ5rWLr9R2Z9ODV2kDVK9gKvtLe+5vi/hUXHenBEX1v0qKSEV0jxB1Ofb+5AKaRbQJ/7b8J5PKav8ihkCbecAAAAASUVORK5CYII="},"images":{"fallback":{"src":"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/8ce4c/netmon.png","srcSet":"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/146d6/netmon.png 415w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/b5282/netmon.png 830w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/8ce4c/netmon.png 1659w","sizes":"(min-width: 1659px) 1659px, 100vw"},"sources":[{"srcSet":"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/134a3/netmon.webp 415w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/f36f8/netmon.webp 830w,\n/static/1dc26eae049a313b6a6f1f9d73bf8b9a/11a03/netmon.webp 1659w","type":"image/webp","sizes":"(min-width: 1659px) 1659px, 100vw"}]},"width":1659,"height":747}},"publicURL":"/static/1dc26eae049a313b6a6f1f9d73bf8b9a/netmon.png"}}}}]}},"pageContext":{"slug":"/230410/"}},"staticQueryHashes":[]}