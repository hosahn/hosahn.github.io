{"componentChunkName":"component---src-templates-post-template-tsx","path":"/221010/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3>0. 들어가기 전에</h3>\n<p>드디어 FTZ의 마지막 문제다! 구글링도 하고 해법도 찾아보며 몇 주동안 열심히 달려왔던 것 같다. 마지막 문제를 확인해보자!</p>\n<h3>1. Level 20 (..?)</h3>\n<p>어..? 소스코드를 확인해보니 뭔가 이상하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"></code></pre></div>\n<p>바로 <strong>길이 검사를</strong> 진행하고 있다는 것이다. 배열의 길이보다 항상 적은 byte를 받아오기 때문에 계속 사용해왔던 BOF 공격은 사용할 수 없다! 그럼 뭘 사용해야 하지…?</p>\n<h3>2. Format String Attack</h3>\n<p>여기서 대신 사용할 수 있는게 Format String Attack이라는 새로운 공격법이다. 사실 알고는 있었는데 제대로 배워보기가 무서워서 미루고 미루다가 결국 마지막 레벨에서 발목을 잡히고 말았다.</p>\n<p>일단 Format String 취약점에 대해 처음부터 설명하기는 너무 길어지니 내가 보면서 공부한 링크를 공유하도록 하겠다.</p>\n<p><a href=\"\">FormatString Attack 기본 설명 영상</a></p>\n<p>천천히 보면서 곱씹어보자. 나도 완전히 이해하고 문제를 풀어보는데에는 몇 시간정도 걸린 것 같다. 컨셉을 대충 이해했다면 지금부터 Level20에 맞춰서 차근차근 따라해보자!</p>\n<h3>3. Level 20 풀이 with Format String Attack</h3>\n<p>자, 그렇다면 본격적으로 Format String 기법을 이용해 Level 20을 풀어보자. 먼저 고려해야 할 사항은 다음과 같다 :</p>\n<ol>\n<li>메모리 구조는 어떠한가? 어디에서 입력을 받고 그곳부터 실제 매개변수까지의 거리는 얼마나 되는가?</li>\n<li>소멸자 .dtors의 위치는 어디인가?</li>\n<li>우리가 저장해놓은 쉘코드 환경변수의 주소는 어디인가?</li>\n<li>입력을 받는 곳으로부터 쉘코드의 주소까지는 얼마만큼의 입력을 어떻게 넣어야 하는가?</li>\n</ol>\n<hr>\n<h2>Source</h2>\n<ul>\n<li>해커스쿨 FTZ</li>\n<li>Me!</li>\n</ul>","frontmatter":{"title":"시스템 해킹(16) : 해커스쿨 FTZ 레벨 20","summary":"","date":"2022.10.10.","before":"2022.10.09.","after":"2022.10.11.","categories":["C-SEC","KOR","pwn"],"thumbnail":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","placeholder":{"fallback":"data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAAAAYBBAcJ/8QAFQEBAQAAAAAAAAAAAAAAAAAABQT/2gAMAwEAAhADEAAAAecqxk1Wh+RFETf/xAAbEAACAwEBAQAAAAAAAAAAAAAEBQECAwYAB//aAAgBAQABBQLk/ozxAp6+x250njzKluVVkeVbX188ot//xAAfEQACAgIBBQAAAAAAAAAAAAACAwERBBMSACExkdL/2gAIAQMBAT8B2ilGRqfkmnJaO5BG2Fm7EEBS+Rl5DcJ1Lio5UF8u9RLSvwPufnr/xAAeEQACAgICAwAAAAAAAAAAAAACAwEEEiEAEyIx0f/aAAgBAgEBPwGsMuOvJoqKdUSa02ASruFNphvYnsFMEQTYJzZgvHNpzjM7LvZGsla16P5z/8QAJxAAAgECBQMEAwAAAAAAAAAAAQIDBBIABRETISIxQRQVIzKSoeH/2gAIAQEABj8Cr8omzfNjSx0cVDkTQ1ctNLk8805aGopgwe2jCPUeqprZBLtoiABi49xzLNBmMiyVFOlaqho6iOCd13t5eH3VtdLF05PQCcctz56Tx+sEaq61NHJQkSC/bjHzI8Wv1lR06X72ySL2Y42nGqqblFzWp5NijQKWJBJHkdscKfy/mP/EAB0QAQADAAIDAQAAAAAAAAAAAAEAESFBUTFhcYH/2gAIAQEAAT8hzE24tLQPVhJNJSUr0wCVxU0kcX1weVyNLTnpyNwLOBO6TwpZRaBNbsWfuEhKrYwKf3z+J//aAAwDAQACAAMAAAAQkN//xAAaEQEAAgMBAAAAAAAAAAAAAAABETEAIaFh/9oACAEDAQE/EEyD5/zMnaTFJWUhNy32jxPPc//EABoRAQACAwEAAAAAAAAAAAAAAAERMQAhQZH/2gAIAQIBAT8QEX6POL11GhsyL86M8GpYB4FVWf/EABgQAQEBAQEAAAAAAAAAAAAAAAERIQAx/9oACAEBAAE/EJoUOgd33xFiGjvwLQjW8KY0zoweyIVAKQD6LTn7qVBNlE8EIiuUSHK55IjERS7B4w67dNSnsqKzV7//2Q=="},"images":{"fallback":{"src":"/static/19e515bba8750881aa8c0a71dc14e660/8c915/C_Sec.jpg","srcSet":"/static/19e515bba8750881aa8c0a71dc14e660/2e6e0/C_Sec.jpg 270w,\n/static/19e515bba8750881aa8c0a71dc14e660/edde1/C_Sec.jpg 540w,\n/static/19e515bba8750881aa8c0a71dc14e660/8c915/C_Sec.jpg 1080w","sizes":"(min-width: 1080px) 1080px, 100vw"},"sources":[{"srcSet":"/static/19e515bba8750881aa8c0a71dc14e660/2e1cd/C_Sec.webp 270w,\n/static/19e515bba8750881aa8c0a71dc14e660/08f1e/C_Sec.webp 540w,\n/static/19e515bba8750881aa8c0a71dc14e660/c34ed/C_Sec.webp 1080w","type":"image/webp","sizes":"(min-width: 1080px) 1080px, 100vw"}]},"width":1080,"height":720}},"publicURL":"/static/19e515bba8750881aa8c0a71dc14e660/C_Sec.jpg"}}}}]}},"pageContext":{"slug":"/221010/"}},"staticQueryHashes":["1523927062"],"slicesMap":{}}