---
date: '2022-07-21'
title: '내가 보려고 작성하는 : C, C++에서의 포인터란?'
categories: ['KOR', 'Cpp']
summary: '포인터의 기본적인 개념과 배열 포인터, 포인터 배열 그리고 일반 배열과 vector, 알고리즘 문제풀이를 위한 배열과 vector의 활용법 총 정리까지 다뤄봅니다.'
thumbnail: './Cpp.jpg'
---

**이 포스트는 C++, C의 "포인터" 개념에 대해 다룹니다.**

### 1. 포인터란?

C에서의 변수는, 값을 할당받은 메모리의 한 부분이다. 
즉, 우리가 변수를 initialilze 할 때, 사용 가능한 메모리가 변수에 할당되고,
값이 여기에 저장된다.

우리가 int n이라는 변수를 사용할 때, cout << n이라는 출력 코드를 작성하면
컴파일러에서 n을 할당된 메모리 주소로 변환해줘 자동으로 값이 참조된다.

### 2. 포인터가 필요한 이유

**그렇다면 이 포인터라는것은 왜 필요할까?**

1. call by reference.

일반적으로, 알고리즘을 풀 때 main함수 안에서 변수의 값을 이리저리 변경할 때는 굳이 포인터를 쓸 필요가 없다. 최상단 main 함수라면 어차피 그 곳에서
프로그램이 종료되게 되고, 따로 call by ~~~가 일어날 일이 없기 때문이다. 하지만, 만약 어떠한 변수를 다른 함수의 매개변수로 넘겨준다면?

```
#include <iostream>
using namespace std;

void abc(int x){
    x = 2;
    cout << x << endl;
}

int main(){
    int x = 1;
    cout << x << endl;
    abc(x);
    cout << x << endl;
}

//출력 : 1 2 1
```
이런 코드가 있다고 할 때, abc함수에 전달되는 값은 진정한 의미의 'x'가 아닌
단순히 x의 할당된 값 (1이라는 상수)이 전달된다. 따라서 abc함수 내부에서 뭔 짓을 하던, x가 저장되어있는 메모리 자체에는 **아무**영향이 없다. 하지만 포인터를 활용할 시에는 호출한 함수에서도 x가 저장되어있는 메모리에 접근이 가능하다.

2. 배열의 관리

3. 동적 메모리 할당


**물론** 이 외에도 다양한 이유가 존재하지만 현재 내 C++ 지식으로 정확히 이해가 가는 이유는 저 세가지다. 나중에 더 공부를 하다보면 추가적인 이유를 찾을 수 있을 것 같다.
### 3. 일반 포인터

그렇다면, 이제 기초적인 포인터의 사용부터 알아보자.

```
int *p;

int a = 2;

p = &a;
```
int *p라는건 다시 말해서 int형 변수의(int) 주소를(*)담을 수 있는 포인터 p의 선언을 뜻한다. 따라서 p에는 어떠한 주소값이 올 수 있으며, 그 주소를 할당받은 변수는 int형이어야 한다. 

또한 p에 변수의 주소를 할당해 줄 때는, &(변수이름)형식으로 할당한다. 즉 &a는 a라는 변수의 주소값을 가리킨다. 

**&a의 &를 "주소 연산자" 라고 한다.**

p는 주소값이다. 그렇다면 p를 이용하여 그 주소값에 실제로 어떤 값이 들어있는지 알 수 있을까?

```
cout << *p << endl;
// 출력 : 2
```
이 때 사용하는것이 *p인데, 아까 p를 선언할 때 쓴 int*과는 완전히 다른 놈이다.

이 친구는 **"역참조 연산자"**라고 하며, 포인터의 실제 값을 가져올때 활용한다.

즉 : & = 주소값 전달(함수던, 포인터던 변수던 상관 없다. 메모리에 할당되어있는 존재라면 모두 가지고있다), * = 실제 값 획득(포인터만 사용 가능)로 이해하면 된다.

### 4. 배열 포인터

여기까지 이해하고 이제 배열을 확인해보자. 사실 일반 변수를 주고받는것은 그다지 어렵지 않다. 하지만 문제는 배열의 값 참조와 배열의 매개변수 전달이다.
당연하게도, 알고리즘 문제 풀 때 가장 많이 매개변수로 전달되는것도 배열이다. 그렇다면 배열 포인터는 도대체 무엇일까?

**배열 포인터 : 배열을 가리키는 하나의 포인터**

라고 정의할 수 있는데, 배열은 여러가지 변수의 모음집인데, 어떻게 하나로 모든 변수를 가리킬 수 있을까?

```
int arr[5]={1,2,3,4,5}; 
```
라는 배열을 생각해보자. 일단 배열 포인터의 선언은
타입 (*포인터이름)[배열크기]이다.

여기서 보통 알고리즘 문제를 푼다면 저 [배열 크기]가 대부분 정해지지 않았을텐데, 바로 이어서 저런 경우 어떻게 하는지 살펴보겠다.

```
int (*ptr)[N] = arr;
```
일단 선언은 이런 식으로 한다. 이렇게 되면 ptr은 arr 배열의 **첫 번째** 변수를 가리키게 된다.
 
여기까지만 하고, 한번 함수에 매개변수로 넘겨보자

```
#include <iostream>
using namespace std;

void abc(int (*x)[5]){
    cout << x << endl;
}

int main(){

    int arr[5]={1,2,3,4,5};
    int (*ptr)[5] = &arr;
    abc(ptr);
}

//출력 : arr[0]의 메모리 주소
```
자, 그렇다면 배열의 순회는 어떻게 할까? 다시 말하지만, main함수의 경우에는 그냥 평범하게 순회하면 되지만, 매개변수로 넘어간 abc에서는 다르고, 그게 우리가 그냥 arr이 아닌 arr의 배열 포인터를 매개변수로 넘겨준 이유다.

### 5. 포인터 배열

### 6. 배열과 vector의 차이

### 7. 알고리즘 문제풀이를 위한 배열과 vector의 활용법 총 정리

### 8. 마무리

봐도봐도 헷갈리는게 포인터인 것 같습니다.. 저 역시 C++로 알고리즘을 시작한지 몇 주 되지 않았지만, 아직 익숙해지려면 한참이나 멀었다는 생각밖에 안 드네요...ㅋㅋㅋㅋㅋ
혹시라도 이 포스트에서 틀린 개념이나, 엄밀히 말하자면 보완할 점이 있다면, 언제든지 댓글로 알려주시면 바로바로 확인해서 수정해보도록 하겠습니다!

---

## Source

- 종만북, 2022.07.22
- CLion