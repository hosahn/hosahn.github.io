<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.13.7"/><meta data-react-helmet="true" name="description" content="NodeJS 서버에서 파이썬 코드로 응답을 받아보자! 라이브러리 사용 X"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1.0"/><meta data-react-helmet="true" http-equiv="Content-Type" content="text/html;charset=UTF-8"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:title" content="NodeJS에서 파이썬 코드 실행하는 법"/><meta data-react-helmet="true" property="og:description" content="NodeJS 서버에서 파이썬 코드로 응답을 받아보자! 라이브러리 사용 X"/><meta data-react-helmet="true" property="og:image" content="/static/1d9174fba34894f84e8b8646343400f4/BackEnd.jpg"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:site_name" content="NodeJS에서 파이썬 코드 실행하는 법"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="NodeJS에서 파이썬 코드 실행하는 법"/><meta data-react-helmet="true" name="twitter:description" content="NodeJS 서버에서 파이썬 코드로 응답을 받아보자! 라이브러리 사용 X"/><meta data-react-helmet="true" name="twitter:image" content="/static/1d9174fba34894f84e8b8646343400f4/BackEnd.jpg"/><meta data-react-helmet="true" name="twitter:site" content="@Hosan"/><meta data-react-helmet="true" name="twitter:creator" content="@Hosan"/><meta data-react-helmet="true" name="google-site-verification" content="FCIdHVjw_jBPbB0l6gXODqTFlM47h7YaiUfT1hIZqfI"/><meta data-react-helmet="true" name="naver-site-verification" content="aaa42c74638f5011238f2979942a4c6bb674bee0"/><style data-href="/styles.6f5efa0135677e26f5fe.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;text-shadow:0 -.1em .2em #000;white-space:pre;word-break:normal;word-spacing:normal}:not(pre)>code[class*=language-],pre[class*=language-]{background:#141414}pre[class*=language-]{border:.3em solid #545454;border-radius:.5em;box-shadow:inset 1px 1px .5em #000;margin:.5em 0;overflow:auto;padding:1em}pre[class*=language-]::selection{background:#27292a}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:hsla(0,0%,93%,.15);text-shadow:none}:not(pre)>code[class*=language-]{border:.13em solid #545454;border-radius:.3em;box-shadow:inset 1px 1px .3em -.1em #000;padding:.15em .2em .05em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#787878}.token.namespace,.token.punctuation{opacity:.7}.token.boolean,.token.deleted,.token.number,.token.tag{color:#cf694a}.token.builtin,.token.constant,.token.keyword,.token.property,.token.selector,.token.symbol{color:#f9ee9a}.language-css .token.string,.style .token.string,.token.attr-name,.token.attr-value,.token.char,.token.entity,.token.inserted,.token.operator,.token.string,.token.url,.token.variable{color:#919e6b}.token.atrule{color:#7386a5}.token.important,.token.regex{color:#e9c163}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.language-markup .token.attr-name,.language-markup .token.punctuation,.language-markup .token.tag{color:#ad895c}.token{position:relative;z-index:1}.line-highlight.line-highlight{background:rgba(84,84,84,.25);background:linear-gradient(90deg,rgba(84,84,84,.1) 70%,rgba(84,84,84,0));border-bottom:1px dashed #545454;border-top:1px dashed #545454;margin-top:.75em;z-index:0}.line-highlight.line-highlight:before,.line-highlight.line-highlight[data-end]:after{background-color:#8794a6;color:#f5f2f0}</style><title data-react-helmet="true">NodeJS에서 파이썬 코드 실행하는 법</title><link data-react-helmet="true" rel="dns-prefetch" href="https://fonts.gstatic.com"/><link data-react-helmet="true" rel="shortcut icon" href="data:image/png;base64,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"/><link rel="canonical" href="https://hosahn.github.io/220717/" data-baseprotocol="https:" data-basehost="hosahn.github.io"/><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){const t=e.target;if(void 0===t.dataset.mainImage)return;if(void 0===t.dataset.gatsbyImageSsr)return;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link rel="sitemap" type="application/xml" href="/sitemap-index.xml"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion="css 13ku56z">.css-13ku56z{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:100%;}</style><main class="css-13ku56z e1strnqo0"><style data-emotion="css-global 14hvnrk">@import url('https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&display=swap');*{padding:0;margin:0;box-sizing:border-box;font-family:'Nanum Myeongjo',serif;}html,body,#___gatsby{height:100%;}a,a:hover{color:inherit;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}img{border:1px solid black;}</style><style data-emotion="css cm164m">.css-cm164m{position:-webkit-sticky;position:-webkit-sticky;position:sticky;z-index:1;top:0;width:100%;padding-top:20px;padding-bottom:20px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:end;justify-content:end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#7490b5;}@media (max-width: 768px){.css-cm164m{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;}}</style><div class="css-cm164m e15l4yeg6"><style data-emotion="css 1yrcabi">.css-1yrcabi{display:none;font-size:24px;margin-right:30px;background-color:transparent;border:none;cursor:pointer;}@media (max-width: 768px){.css-1yrcabi{display:block;margin-left:20px;}}</style><button class="css-1yrcabi e15l4yeg1">☰</button><style data-emotion="css 16w8lq8">.css-16w8lq8{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-ms-flex-pack:end;-webkit-justify-content:end;justify-content:end;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}@media (max-width: 768px){.css-16w8lq8{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:100%;display:none;}}</style><div class="css-16w8lq8 e15l4yeg0"><style data-emotion="css 1sav23y">.css-1sav23y{margin-right:10px;z-index:2;color:black;font-size:15px;font-weight:bold;font-family:'EliceDigitalBaeum';background-color:transparent;border:none;cursor:pointer;}</style><button class="css-1sav23y e15l4yeg5"><style data-emotion="css 2331mw">.css-2331mw{z-index:3;}.css-2331mw:hover{background-image:linear-gradient(transparent 60%, white 40%);}</style><a class="css-2331mw e15l4yeg3" href="/">Main</a></button><button class="css-1sav23y e15l4yeg5"><a class="css-2331mw e15l4yeg3" href="/search/">Search</a></button><button class="css-1sav23y e15l4yeg5"><a href="https://github.com/hosahn" class="css-2331mw e15l4yeg2">Github</a></button><button class="css-1sav23y e15l4yeg5"><a href="https://bottlenose-apology-5f4.notion.site/6cefa80ae2a642b8b2523495d3d4bcef" class="css-2331mw e15l4yeg2">About</a></button><button class="css-1sav23y e15l4yeg5"><a class="css-2331mw e15l4yeg3" href="/contact/">Contact</a></button></div></div><style data-emotion="css 16cz9yp">.css-16cz9yp{position:relative;width:100%;height:400px;}@media (max-width: 768px){.css-16cz9yp{height:300px;}}</style><div class="css-16cz9yp e1opi4mu1"><style data-emotion="css 1bjn9yo">.css-1bjn9yo{z-index:-1;width:100%;height:400px;object-fit:cover;-webkit-filter:brightness(0.25);filter:brightness(0.25);}@media (max-width: 768px){.css-1bjn9yo{height:300px;}}</style><div data-gatsby-image-wrapper="" style="position:absolute" class="gatsby-image-wrapper gatsby-image-wrapper-constrained css-1bjn9yo e1opi4mu0"><div style="max-width:279px;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg%20height=&#x27;180&#x27;%20width=&#x27;279&#x27;%20xmlns=&#x27;http://www.w3.org/2000/svg&#x27;%20version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><img aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear" decoding="async" src="data:image/jpeg;base64,/9j/2wBDAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/2wBDAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQH/wgARCAANABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAACAAGCf/EABYBAQEBAAAAAAAAAAAAAAAAAAcGCP/aAAwDAQACEAMQAAAB5lNIhL1gz8JLD0anf//EABwQAAICAgMAAAAAAAAAAAAAAAIFAwQBBgAHE//aAAgBAQABBQJOgvyTdjor8qkFds8ajgrbTY8myVe8o8//xAAjEQACAQIEBwAAAAAAAAAAAAABAgMEEgUGETEAEyEiIzJB/9oACAEDAQE/AczYpXQZlwxIZY1p47DXKIho3NVWFy6FpPERdYR2kL1ItCoxVTdD6rvTgnYfdeP/xAAiEQACAAUDBQAAAAAAAAAAAAABAgMEERMhBSIxABIjQ1H/2gAIAQIBAT8B0eDIvpUzcgFoxMWwxarDBXY1Rb8mcg8VxXuJK1O1+T7D96//xAAoEAACAgEDAgQHAAAAAAAAAAABAgMRBBITIQAiFCQxMgUGM0FCUbH/2gAIAQEABj8CggrEhhkjbfc7SPpilji3EGv6utwa2y3Hoyg18vucf4DAcfE8Z5TAx8LxWSy7TtlNFkSNMu1FqiB2FEs0jbfsHV+QRruVQkfEh7m9Wf8AY/I8c30sksjEYUOOSp7t98iNHJdmJoLpACqL49326hxpXK3jq8bgLcLdw7VoBlrgq9/yhGHI27iJHGsxsV11zVgDizXpfX//xAAbEAEBAAMAAwAAAAAAAAAAAAABEQAhMUFRcf/aAAgBAQABPyEfEiIiXEOmNYLsU7rtNyIFhp02WG9BJrkZI53RsXL9CqfdWu4oZMDNW/eyBGSqDsVYh8EatpnxiwpM/9oADAMBAAIAAwAAABBkP//EABgRAQEBAQEAAAAAAAAAAAAAAAERITEA/9oACAEDAQE/ED0uYdwSA3apP9dQadJsqS1qVWOtM//EABgRAQEBAQEAAAAAAAAAAAAAABEBIQBB/9oACAECAQE/EKk2KQAwBkBKXwkOsaZYLIQkJCkFPH//xAAXEAEBAQEAAAAAAAAAAAAAAAABEQAh/9oACAEBAAE/EEfVUmSCb/UiqdqhSBkBYOjpOXdprSD05DZIw3NE4BGnENQIKcQBLWeybAbUVcmxUvbJFHE4w7//2Q==" alt=""/><picture><source type="image/webp" data-srcset="/static/1d9174fba34894f84e8b8646343400f4/f7934/BackEnd.webp 70w,/static/1d9174fba34894f84e8b8646343400f4/9e59e/BackEnd.webp 140w,/static/1d9174fba34894f84e8b8646343400f4/2017a/BackEnd.webp 279w" sizes="(min-width: 279px) 279px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 279px) 279px, 100vw" decoding="async" loading="lazy" data-src="/static/1d9174fba34894f84e8b8646343400f4/1c501/BackEnd.jpg" data-srcset="/static/1d9174fba34894f84e8b8646343400f4/d3f9e/BackEnd.jpg 70w,/static/1d9174fba34894f84e8b8646343400f4/1201d/BackEnd.jpg 140w,/static/1d9174fba34894f84e8b8646343400f4/1c501/BackEnd.jpg 279w" alt="thumbnail"/></picture><noscript><picture><source type="image/webp" srcSet="/static/1d9174fba34894f84e8b8646343400f4/f7934/BackEnd.webp 70w,/static/1d9174fba34894f84e8b8646343400f4/9e59e/BackEnd.webp 140w,/static/1d9174fba34894f84e8b8646343400f4/2017a/BackEnd.webp 279w" sizes="(min-width: 279px) 279px, 100vw"/><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" sizes="(min-width: 279px) 279px, 100vw" decoding="async" loading="lazy" src="/static/1d9174fba34894f84e8b8646343400f4/1c501/BackEnd.jpg" srcSet="/static/1d9174fba34894f84e8b8646343400f4/d3f9e/BackEnd.jpg 70w,/static/1d9174fba34894f84e8b8646343400f4/1201d/BackEnd.jpg 140w,/static/1d9174fba34894f84e8b8646343400f4/1c501/BackEnd.jpg 279w" alt="thumbnail"/></picture></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1,e.parentNode.parentNode.querySelector("[data-placeholder-image]").style.opacity=0)}}</script></div><style data-emotion="css m1156n">.css-m1156n{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;height:100%;margin:0 auto;padding:60px 0;color:#ffffff;}@media (max-width: 768px){.css-m1156n{width:100%;padding:40px 20px;}}</style><div class="css-m1156n e1st1jau3"><style data-emotion="css gywgo7">.css-gywgo7{display:grid;place-items:center;width:40px;height:40px;border-radius:50%;background:#ffffff;color:#000000;font-size:22px;cursor:pointer;box-shadow:0 0 10px rgba(0, 0, 0, 0.3);}@media (max-width: 768px){.css-gywgo7{width:30px;height:30px;font-size:18px;}}</style><div class="css-gywgo7 e1st1jau2"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" class="svg-inline--fa fa-arrow-left " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"></path></svg></div><style data-emotion="css gn4qtp">.css-gn4qtp{display:-webkit-box;overflow:hidden;overflow-wrap:break-word;margin-top:auto;text-overflow:ellipsis;white-space:normal;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:45px;font-weight:800;}@media (max-width: 768px){.css-gn4qtp{font-size:30px;}}</style><div class="css-gn4qtp e1st1jau1">NodeJS에서 파이썬 코드 실행하는 법</div><style data-emotion="css 3gcnt2">.css-3gcnt2{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin-top:10px;font-size:18px;font-weight:700;}@media (max-width: 768px){.css-3gcnt2{-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:flex-start;-webkit-box-align:flex-start;-ms-flex-align:flex-start;align-items:flex-start;font-size:15px;font-weight:400;}}</style><div class="css-3gcnt2 e1st1jau0"><div>Coding / KOR</div><div>2022.07.17.</div></div></div></div><style data-emotion="css uo146q">.css-uo146q{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;width:768px;margin:0 auto;padding:100px 0;word-break:break-all;line-height:1.8;font-size:16px;font-weight:400;}.css-uo146q p{padding:3px 0;}.css-uo146q h1,.css-uo146q h2,.css-uo146q h3{font-weight:800;margin-bottom:30px;}.css-uo146q *+h1,.css-uo146q *+h2,.css-uo146q *+h3{margin-top:80px;}.css-uo146q hr+h1,.css-uo146q hr+h2,.css-uo146q hr+h3{margin-top:0;}.css-uo146q h1{font-size:30px;}.css-uo146q h2{font-size:25px;}.css-uo146q h3{font-size:20px;}.css-uo146q blockquote{margin:30px 0;padding:5px 15px;border-left:2px solid #000000;font-weight:800;}.css-uo146q ol,.css-uo146q ul{margin-left:20px;padding:30px 0;}.css-uo146q hr{border:1px solid #000000;margin:100px 0;}.css-uo146q a{color:#4263eb;-webkit-text-decoration:underline;text-decoration:underline;}.css-uo146q pre[class*='language-']{margin:30px 0;padding:15px;font-size:15px;}.css-uo146q pre[class*='language-']::-webkit-scrollbar-thumb{background:rgba(255, 255, 255, 0.5);border-radius:3px;}.css-uo146q code[class*='language-'],.css-uo146q pre[class*='language-']{tab-size:2;}@media (max-width: 768px){.css-uo146q{width:100%;padding:80px 20px;line-height:1.6;font-size:14px;}.css-uo146q h1{font-size:23px;}.css-uo146q h2{font-size:20px;}.css-uo146q h3{font-size:17px;}.css-uo146q img{width:100%;}.css-uo146q hr{margin:50px 0;}}</style><div class="css-uo146q e1ijh0y10"><h3>1. 문제 제기</h3>
<p>프로그램을 작성 중, 파이썬 라이브러리를 사용해서 딥러닝 관련 응답을 받아와야 할 일이 생겼다.
NodeJS는 기본적으로 다른 확장자의 파일을 실행할 수 있는 기능을 라이브러리로 제공한다.
따라서 라이브러리를 사용하지 않는(혹은 pip로 설치하지 않는 라이브러리만 사용하는) 경우는 간단하게 파이썬을 실행시켜 결과값을
가져올 수 있다.
하지만 그렇지 않다면…? 딥러닝은 수많은 라이브러리를 사용하는데? python venv설정은? NodeJS와 연동이 되나?
이러한 궁금증을 바탕으로, 그냥 한 번 악으로 깡으로 해보기로 했다.</p>
<h3>2. 첫 번째 방법 : Child.spawn()을 이용해 파이썬 파일 실행 (실패)</h3>
<p>첫 번째는 기본적인 NodeJS라이브러리를 활용하여 python 파일을 실행시키는 경우다. 거두절미하고 코드부터 봐보자.</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">const express = require("express");
const cors = require("cors");
const app = express();
const bodyPaser = require("body-parser");
const axios = require("axios");
const helmet = require("helmet");
const spawn = require('child_process').spawn;

app.use(helmet());
app.use(cors());
app.use(bodyPaser.json());
app.post("/message", async (req, res) => {
  try {
    const message = req.body.info || "Null";
    if (message == "Null") {
      res.send("메세지를 정확히 입력해주세요!");
    } else {
        //파이썬 코드를 child.spawn()로 실행해준다. stdout.on으로 파이썬 프로그램에서 뭔가를 출력(print)한다면 그걸 캐치해서 가져온다. 
      const result = spawn('python', ['main.py', '매개변수1']);
      const data = result.stdout.on('data', function(data) {
    console.log(data.toString());
    });
      res.send(data);
    }
  } catch (e) {
    res.send(e);
  }
});

app.listen(8080, () => {
  console.log("App Started");
});</code></pre></div>
<p>역시 실행이 되지 않는다. (파이썬에서 문장을 넘겨 그것을 분석하여 문장에 대한 answer을 print하는 코드를 작성하였다.)</p>
<p>오류를 보자면, 첫 번째로 라이브러리 호출도 되지 않고, python 함수 내에서 pandas로 읽어오는 .csv 파일 또한
경로가 확인되지 않는다는, 이상한 오류가 뜬다. 사실 VS Code로 실행해서 (평소에는 PyCharm 사용) 내가 venv 설정이라던지,
라이브러리 설정을 잘못 한 것일 수도 있지만, 일단 venv도 설정해보고, 라이브러리도 새로 설치해보고 해봤지만, 실행이 잘 되지 않는다.
결정적으로 무슨 이유에서인지 csv파일을 읽어오지 못한다. 아마 pandas 라이브러리가 제대로 호출되지 않아서 그런 듯 싶다.</p>
<p>PyCharm으로 NodeJS가 아닌 파이썬 코드만 실행시키면 물론 작동이 된다! 하지만 NodeJS 서버에서 파이썬의 결과값을 불러올 수 없다면 어차피
무용지물이기에 깔끔하게 포기. 왜 안된건진 추후에 리팩토링 해보고 이유 적어보도록 하겠다 :)</p>
<h3>3. 두 번쨰 방법 : Python Flask 간이 서버를 만들어 처리 (성공)</h3>
<p>두 번째 방법으로는, 그냥 파이썬 Flask 서버를 하나 여는것이다. 어차피 지금 만드는 웹 애플리케이션은 두 개 정도의 요청을 제외하고는
파이썬 코드를 실행시킬 일이 없다. 그냥 간단한 라우터 두 개만 넣어서 서버를 실행시켜놓고, 요청 오면 전달해주면 되지 않을까? 라는 생각이었고,
사실 생각이라기보단 이게 안 될 리가 없다. 이건 그냥 따로 파이썬을 실행시키는 방법이니…</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">const express = require("express");
const cors = require("cors");
const app = express();
const bodyPaser = require("body-parser");
const axios = require("axios");
const helmet = require("helmet");

app.use(helmet());
app.use(cors());
app.use(bodyPaser.json());
app.post("/message", async (req, res) => {
  try {
    const message = req.body.info || "Null";
    if (message == "Null") {
      res.send("메세지를 정확히 입력해주세요!");
    } else {
        //파이썬 서버 주소인 5000번 포트로 요청을 전달해준다.
      const result = await axios.post("http://localhost:5000", {
        info: message,
      });
      res.send(result.data);
    }
  } catch (e) {
    res.send(e);
  }
});

app.listen(8080, () => {
  console.log("App Started");
});</code></pre></div>
<p>파이썬 코드</p>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">import pandas as pd
from sentence_transformers import SentenceTransformer
from sklearn.metrics.pairwise import cosine_similarity
import json
from flask import Flask, request

app = Flask(__name__)

def cached_model():
    model = SentenceTransformer('jhgan/ko-sroberta-multitask')
    return model

def get_dataset():
    df = pd.read_csv('wellness_dataset.csv')
    df['embedding'] = df['embedding'].apply(json.loads)
    return df
def result(value) :
    model = cached_model()
    df = get_dataset()
    user_input = value
    embedding = model.encode(user_input)
    df['distance'] = df['embedding'].map(lambda x: cosine_similarity([embedding], [x]).squeeze())
    answer = df.loc[df['distance'].idxmax()]
    return answer['챗봇']

@app.route('/', methods=['GET','POST'])
def request_main():
    value = request.json['info']
    abc = result(value)
    return abc
    //1번에서는 여기가 print(abc)였다! 물론 flask 코드도 없었다.

if __name__ == '__main__':
    app.run()
</code></pre></div>
<p>이건 역시나 에러없이 한번에 성공, 물론 귀찮은 점은 (로컬에서 실행할 땐) IDE 두 개 켜놓고 하나는 Flask 하나는 NodeJS React 실행시켜야 한 다는 점이긴 하지만,
솔직히 이게 가장 효율적이고 정석적인 방법이 아닐까 싶다.</p>
<h3>4. 결론</h3>
<p>분명히 간단한 코드라면 NodeJS상에서 바로 다른 확장자의 파일을 실행시켜도 되겠지만, 딥러닝처럼 복잡한 로직과
많은 라이브러리를 활용하는 함수의 경우에는 그냥 Flask서버를 하나 만들어 NodeJS서버와 통신을 시키거나, 클라이언트에서 직접 통신을 받거나
하는 편이 더 나은 것 같다. 실제로 엘리스 마지막 프로젝트에서 AI를 활용할때도 Flask서버를 따로 만들어 NginX 위에서 가동시켰었고.</p>
<hr>
<h2>Source</h2>
<ul>
<li>My Brain</li>
</ul></div><style data-emotion="css 1ws88hl">.css-1ws88hl{width:50%;height:30px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin:auto;margin-bottom:50px;}@media (max-width: 768px){.css-1ws88hl{-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;width:50%;text-align:center;}}</style><div class="css-1ws88hl e19uf7in2"><style data-emotion="css 170jz57">.css-170jz57{margin-right:10px;z-index:2;color:black;font-size:15px;font-weight:bold;font-family:'EliceDigitalBaeum';border:0;outline:0;background-color:white;}</style><button class="css-170jz57 e19uf7in0"><style data-emotion="css 4gq8eu">.css-4gq8eu{z-index:3;}.css-4gq8eu:hover{background-image:linear-gradient(transparent 60%, #7490b5 40%);}</style><a href="https://hosahn.github.io/220716/" class="css-4gq8eu e19uf7in1">PREV POST</a></button><button class="css-170jz57 e19uf7in0"><a href="https://hosahn.github.io/220718/" class="css-4gq8eu e19uf7in1">NEXT POST</a></button></div><style data-emotion="css hx9xpc">@media (max-width: 768px){.css-hx9xpc{padding:0 20px;}}</style><div class="css-hx9xpc e1l3qcvx0"></div><div><style data-emotion="css jtgsqn">.css-jtgsqn{display:grid;place-items:center;margin-top:200px;padding:50px 0;font-size:15px;text-align:center;line-height:1.5;color:white;background-color:black;opacity:0.7;}@media (max-width: 768px){.css-jtgsqn{font-size:13px;}}</style><footer class="css-jtgsqn e1oae0v80">Thanks for visiting my blog! If you are interested in building a CTF Team, please contact me! -Hosan Lee-<br/><a target="_blank" href="https://icons8.com/icon/37287/footman"> © 2022 Hosan Lee, Munich. Footman icon by Icons8</a></footer></div></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/220717/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-c45422f38917e4dccc11.js\"],\"component---src-pages-404-tsx\":[\"/component---src-pages-404-tsx-9b7b738ad53fd49fcc91.js\"],\"component---src-pages-contact-tsx\":[\"/component---src-pages-contact-tsx-610a7d13dca88dac77d1.js\"],\"component---src-pages-index-tsx\":[\"/component---src-pages-index-tsx-a178567fdb351e751e17.js\"],\"component---src-pages-search-tsx\":[\"/component---src-pages-search-tsx-1d86b3225930aec66451.js\"],\"component---src-templates-post-template-tsx\":[\"/component---src-templates-post-template-tsx-573c131749e9ec1fc515.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="6e9d5a195fe752b13e96";</script><script src="/webpack-runtime-42fd66fec461e5a723a8.js" async></script><script src="/framework-9d608f77b5c9a88afabd.js" async></script><script src="/app-c45422f38917e4dccc11.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>